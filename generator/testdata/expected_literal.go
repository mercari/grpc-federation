// Code generated by protoc-gen-grpc-federation. DO NOT EDIT!
package federation

import (
	"context"
	"errors"
	"fmt"
	"io"
	"log/slog"
	"os"
	"runtime/debug"
	"strings"
	"sync"
	"time"

	"github.com/cenkalti/backoff/v4"
	"golang.org/x/sync/errgroup"
	"golang.org/x/sync/singleflight"
	"google.golang.org/genproto/googleapis/rpc/errdetails"
	grpccodes "google.golang.org/grpc/codes"
	grpcstatus "google.golang.org/grpc/status"

	content "example/content"
)

// FederationServiceConfig configuration required to initialize the service that use GRPC Federation.
type FederationServiceConfig struct {
	// Client provides a factory that creates the gRPC Client needed to invoke methods of the gRPC Service on which the Federation Service depends.
	// If this interface is not provided, an error is returned during initialization.
	Client FederationServiceClientFactory // required
	// ErrorHandler Federation Service often needs to convert errors received from downstream services.
	// If an error occurs during method execution in the Federation Service, this error handler is called and the returned error is treated as a final error.
	ErrorHandler FederationServiceErrorHandler
	// Logger sets the logger used to output Debug/Info/Error information.
	Logger *slog.Logger
}

// FederationServiceClientFactory provides a factory that creates the gRPC Client needed to invoke methods of the gRPC Service on which the Federation Service depends.
type FederationServiceClientFactory interface {
	// Content_ContentServiceClient create a gRPC Client to be used to call methods in content.ContentService.
	Content_ContentServiceClient(FederationServiceClientConfig) (content.ContentServiceClient, error)
}

// FederationServiceClientConfig information set in `dependencies` of the `grpc.federation.service` option.
// Hints for creating a gRPC Client.
type FederationServiceClientConfig struct {
	// Service returns the name of the service on Protocol Buffers.
	Service string
	// Name is the value set for `name` in `dependencies` of the `grpc.federation.service` option.
	// It must be unique among the services on which the Federation Service depends.
	Name string
}

// FederationServiceDependencyServiceClient has a gRPC client for all services on which the federation service depends.
// This is provided as an argument when implementing the custom resolver.
type FederationServiceDependencyServiceClient struct {
	Content_ContentServiceClient content.ContentServiceClient
}

// FederationServiceResolver provides an interface to directly implement message resolver and field resolver not defined in Protocol Buffers.
type FederationServiceResolver interface {
}

// FederationServiceUnimplementedResolver a structure implemented to satisfy the Resolver interface.
// An Unimplemented error is always returned.
// This is intended for use when there are many Resolver interfaces that do not need to be implemented,
// by embedding them in a resolver structure that you have created.
type FederationServiceUnimplementedResolver struct{}

// FederationServiceErrorHandler Federation Service often needs to convert errors received from downstream services.
// If an error occurs during method execution in the Federation Service, this error handler is called and the returned error is treated as a final error.
type FederationServiceErrorHandler func(ctx context.Context, methodName string, err error) error

const (
	FederationService_DependentMethod_Content_ContentService_GetContent = "/content.ContentService/GetContent"
)

// FederationServiceRecoveredError represents recovered error.
type FederationServiceRecoveredError struct {
	Message string
	Stack   []string
}

func (e *FederationServiceRecoveredError) Error() string {
	return fmt.Sprintf("recovered error: %s", e.Message)
}

// FederationService represents Federation Service.
type FederationService struct {
	*UnimplementedFederationServiceServer
	cfg          FederationServiceConfig
	logger       *slog.Logger
	errorHandler FederationServiceErrorHandler
	client       *FederationServiceDependencyServiceClient
}

// Org_Federation_ContentArgument is argument for "org.federation.Content" message.
type Org_Federation_ContentArgument struct {
	BoolField        bool
	BoolsField       []bool
	ByField          string
	ByteStringField  []byte
	ByteStringsField [][]byte
	DoubleField      float64
	DoublesField     []float64
	EnumField        ContentType
	EnumsField       []ContentType
	EnvField         string
	EnvsField        []string
	Fixed32Field     uint32
	Fixed32SField    []uint32
	Fixed64Field     uint64
	Fixed64SField    []uint64
	FloatField       float32
	FloatsField      []float32
	Int32Field       int32
	Int32SField      []int32
	Int64Field       int64
	Int64SField      []int64
	MessageField     *Content
	MessagesField    []*Content
	Sfixed32Field    int32
	Sfixed32SField   []int32
	Sfixed64Field    int64
	Sfixed64SField   []int64
	Sint32Field      int32
	Sint32SField     []int32
	Sint64Field      int64
	Sint64SField     []int64
	StringField      string
	StringsField     []string
	Uint32Field      uint32
	Uint32SField     []uint32
	Uint64Field      uint64
	Uint64SField     []uint64
	Client           *FederationServiceDependencyServiceClient
}

// Org_Federation_GetResponseArgument is argument for "org.federation.GetResponse" message.
type Org_Federation_GetResponseArgument struct {
	Content  *content.Content
	Content2 *Content
	Id       string
	Client   *FederationServiceDependencyServiceClient
}

// NewFederationService creates FederationService instance by FederationServiceConfig.
func NewFederationService(cfg FederationServiceConfig) (*FederationService, error) {
	if err := validateFederationServiceConfig(cfg); err != nil {
		return nil, err
	}
	Content_ContentServiceClient, err := cfg.Client.Content_ContentServiceClient(FederationServiceClientConfig{
		Service: "content.ContentService",
		Name:    "",
	})
	if err != nil {
		return nil, err
	}
	logger := cfg.Logger
	if logger == nil {
		logger = slog.New(slog.NewJSONHandler(io.Discard, nil))
	}
	errorHandler := cfg.ErrorHandler
	if errorHandler == nil {
		errorHandler = func(ctx context.Context, methodName string, err error) error { return err }
	}
	return &FederationService{
		cfg:          cfg,
		logger:       logger,
		errorHandler: errorHandler,
		client: &FederationServiceDependencyServiceClient{
			Content_ContentServiceClient: Content_ContentServiceClient,
		},
	}, nil
}

func validateFederationServiceConfig(cfg FederationServiceConfig) error {
	if cfg.Client == nil {
		return fmt.Errorf("Client field in FederationServiceConfig is not set. this field must be set")
	}
	return nil
}

func withTimeoutFederationService[T any](ctx context.Context, method string, timeout time.Duration, fn func(context.Context) (*T, error)) (*T, error) {
	ctx, cancel := context.WithTimeout(ctx, timeout)
	defer cancel()

	var (
		ret   *T
		errch = make(chan error)
	)
	go func() {
		defer func() {
			if r := recover(); r != nil {
				errch <- recoverErrorFederationService(r, debug.Stack())
			}
		}()

		res, err := fn(ctx)
		ret = res
		errch <- err
	}()
	select {
	case <-ctx.Done():
		status := grpcstatus.New(grpccodes.DeadlineExceeded, ctx.Err().Error())
		withDetails, err := status.WithDetails(&errdetails.ErrorInfo{
			Metadata: map[string]string{
				"method":  method,
				"timeout": timeout.String(),
			},
		})
		if err != nil {
			return nil, status.Err()
		}
		return nil, withDetails.Err()
	case err := <-errch:
		return ret, err
	}
}

func withRetryFederationService[T any](b backoff.BackOff, fn func() (*T, error)) (*T, error) {
	var res *T
	if err := backoff.Retry(func() (err error) {
		res, err = fn()
		return
	}, b); err != nil {
		return nil, err
	}
	return res, nil
}

func recoverErrorFederationService(v interface{}, rawStack []byte) *FederationServiceRecoveredError {
	msg := fmt.Sprint(v)
	lines := strings.Split(msg, "\n")
	if len(lines) <= 1 {
		lines := strings.Split(string(rawStack), "\n")
		stack := make([]string, 0, len(lines))
		for _, line := range lines {
			if line == "" {
				continue
			}
			stack = append(stack, strings.TrimPrefix(line, "\t"))
		}
		return &FederationServiceRecoveredError{
			Message: msg,
			Stack:   stack,
		}
	}
	// If panic occurs under singleflight, singleflight's recover catches the error and gives a stack trace.
	// Therefore, once the stack trace is removed.
	stack := make([]string, 0, len(lines))
	for _, line := range lines[1:] {
		if line == "" {
			continue
		}
		stack = append(stack, strings.TrimPrefix(line, "\t"))
	}
	return &FederationServiceRecoveredError{
		Message: lines[0],
		Stack:   stack,
	}
}

func (s *FederationService) goWithRecover(eg *errgroup.Group, fn func() (interface{}, error)) {
	eg.Go(func() (e error) {
		defer func() {
			if r := recover(); r != nil {
				e = recoverErrorFederationService(r, debug.Stack())
			}
		}()
		_, err := fn()
		return err
	})
}

func (s *FederationService) outputErrorLog(ctx context.Context, err error) {
	if err == nil {
		return
	}
	if status, ok := grpcstatus.FromError(err); ok {
		s.logger.ErrorContext(ctx, status.Message(),
			slog.Group("grpc_status",
				slog.String("code", status.Code().String()),
				slog.Any("details", status.Details()),
			),
		)
		return
	}
	var recoveredErr *FederationServiceRecoveredError
	if errors.As(err, &recoveredErr) {
		trace := make([]interface{}, 0, len(recoveredErr.Stack))
		for idx, stack := range recoveredErr.Stack {
			trace = append(trace, slog.String(fmt.Sprint(idx+1), stack))
		}
		s.logger.ErrorContext(ctx, recoveredErr.Message, slog.Group("stack_trace", trace...))
		return
	}
	s.logger.ErrorContext(ctx, err.Error())
}

// Get implements "org.federation.FederationService/Get" method.
func (s *FederationService) Get(ctx context.Context, req *GetRequest) (res *GetResponse, e error) {
	defer func() {
		if r := recover(); r != nil {
			e = recoverErrorFederationService(r, debug.Stack())
			s.outputErrorLog(ctx, e)
		}
	}()
	res, err := s.resolve_Org_Federation_GetResponse(ctx, &Org_Federation_GetResponseArgument{
		Client: s.client,
		Id:     req.Id,
	})
	if err != nil {
		s.outputErrorLog(ctx, err)
		return nil, err
	}
	return res, nil
}

// resolve_Org_Federation_Content resolve "org.federation.Content" message.
func (s *FederationService) resolve_Org_Federation_Content(ctx context.Context, req *Org_Federation_ContentArgument) (*Content, error) {
	s.logger.DebugContext(ctx, "resolve  org.federation.Content", slog.Any("message_args", s.logvalue_Org_Federation_ContentArgument(req)))

	// create a message value to be returned.
	ret := &Content{}

	// field binding section.
	ret.ByField = req.ByField                   // (grpc.federation.field).alias = "by_field"
	ret.DoubleField = req.DoubleField           // (grpc.federation.field).alias = "double_field"
	ret.DoublesField = req.DoublesField         // (grpc.federation.field).alias = "doubles_field"
	ret.FloatField = req.FloatField             // (grpc.federation.field).alias = "float_field"
	ret.FloatsField = req.FloatsField           // (grpc.federation.field).alias = "floats_field"
	ret.Int32Field = req.Int32Field             // (grpc.federation.field).alias = "int32_field"
	ret.Int32SField = req.Int32SField           // (grpc.federation.field).alias = "int32s_field"
	ret.Int64Field = req.Int64Field             // (grpc.federation.field).alias = "int64_field"
	ret.Int64SField = req.Int64SField           // (grpc.federation.field).alias = "int64s_field"
	ret.Uint32Field = req.Uint32Field           // (grpc.federation.field).alias = "uint32_field"
	ret.Uint32SField = req.Uint32SField         // (grpc.federation.field).alias = "uint32s_field"
	ret.Uint64Field = req.Uint64Field           // (grpc.federation.field).alias = "uint64_field"
	ret.Uint64SField = req.Uint64SField         // (grpc.federation.field).alias = "uint64s_field"
	ret.Sint32Field = req.Sint32Field           // (grpc.federation.field).alias = "sint32_field"
	ret.Sint32SField = req.Sint32SField         // (grpc.federation.field).alias = "sint32s_field"
	ret.Sint64Field = req.Sint64Field           // (grpc.federation.field).alias = "sint64_field"
	ret.Sint64SField = req.Sint64SField         // (grpc.federation.field).alias = "sint64s_field"
	ret.Fixed32Field = req.Fixed32Field         // (grpc.federation.field).alias = "fixed32_field"
	ret.Fixed32SField = req.Fixed32SField       // (grpc.federation.field).alias = "fixed32s_field"
	ret.Fixed64Field = req.Fixed64Field         // (grpc.federation.field).alias = "fixed64_field"
	ret.Fixed64SField = req.Fixed64SField       // (grpc.federation.field).alias = "fixed64s_field"
	ret.Sfixed32Field = req.Sfixed32Field       // (grpc.federation.field).alias = "sfixed32_field"
	ret.Sfixed32SField = req.Sfixed32SField     // (grpc.federation.field).alias = "sfixed32s_field"
	ret.Sfixed64Field = req.Sfixed64Field       // (grpc.federation.field).alias = "sfixed64_field"
	ret.Sfixed64SField = req.Sfixed64SField     // (grpc.federation.field).alias = "sfixed64s_field"
	ret.BoolField = req.BoolField               // (grpc.federation.field).alias = "bool_field"
	ret.BoolsField = req.BoolsField             // (grpc.federation.field).alias = "bools_field"
	ret.StringField = req.StringField           // (grpc.federation.field).alias = "string_field"
	ret.StringsField = req.StringsField         // (grpc.federation.field).alias = "strings_field"
	ret.ByteStringField = req.ByteStringField   // (grpc.federation.field).alias = "byte_string_field"
	ret.ByteStringsField = req.ByteStringsField // (grpc.federation.field).alias = "byte_strings_field"
	ret.EnumField = req.EnumField               // (grpc.federation.field).alias = "enum_field"
	ret.EnumsField = req.EnumsField             // (grpc.federation.field).alias = "enums_field"
	ret.EnvField = req.EnvField                 // (grpc.federation.field).alias = "env_field"
	ret.EnvsField = req.EnvsField               // (grpc.federation.field).alias = "envs_field"
	ret.MessageField = req.MessageField         // (grpc.federation.field).alias = "message_field"
	ret.MessagesField = req.MessagesField       // (grpc.federation.field).alias = "messages_field"

	s.logger.DebugContext(ctx, "resolved org.federation.Content", slog.Any("org.federation.Content", s.logvalue_Org_Federation_Content(ret)))
	return ret, nil
}

// resolve_Org_Federation_GetResponse resolve "org.federation.GetResponse" message.
func (s *FederationService) resolve_Org_Federation_GetResponse(ctx context.Context, req *Org_Federation_GetResponseArgument) (*GetResponse, error) {
	s.logger.DebugContext(ctx, "resolve  org.federation.GetResponse", slog.Any("message_args", s.logvalue_Org_Federation_GetResponseArgument(req)))
	var (
		sg            singleflight.Group
		valueContent  *content.Content
		valueContent2 *Content
		valueMu       sync.RWMutex
	)
	// A tree view of message dependencies is shown below.
	/*
	     content2 ─┐
	   GetContent ─┤
	*/
	eg, ctx := errgroup.WithContext(ctx)

	s.goWithRecover(eg, func() (interface{}, error) {

		// This section's codes are generated by the following proto definition.
		/*
		   {
		     name: "content2"
		     message: "Content"
		     args: [
		       { name: "by_field", by: "$.id" },
		       { name: "double_field", double: 1.23 },
		       { name: "doubles_field", doubles: [4.56, 7.89] },
		       { name: "float_field", float: 4.56 },
		       { name: "floats_field", floats: [7.89, 1.23] },
		       { name: "int32_field", int32: -1 },
		       { name: "int32s_field", int32s: [-2, -3] },
		       { name: "int64_field", int64: -4 },
		       { name: "int64s_field", int64s: [-5, -6] },
		       { name: "uint32_field", uint32: 1 },
		       { name: "uint32s_field", uint32s: [2, 3] },
		       { name: "uint64_field", uint64: 4 },
		       { name: "uint64s_field", uint64s: [5, 6] },
		       { name: "sint32_field", sint32: -7 },
		       { name: "sint32s_field", sint32s: [-8, -9] },
		       { name: "sint64_field", sint64: -10 },
		       { name: "sint64s_field", sint64s: [-11, -12] },
		       { name: "fixed32_field", fixed32: 10 },
		       { name: "fixed32s_field", fixed32s: [11, 12] },
		       { name: "fixed64_field", fixed64: 13 },
		       { name: "fixed64s_field", fixed64s: [14, 15] },
		       { name: "sfixed32_field", sfixed32: -14 },
		       { name: "sfixed32s_field", sfixed32s: [-15, -16] },
		       { name: "sfixed64_field", sfixed64: -17 },
		       { name: "sfixed64s_field", sfixed64s: [-18, -19] },
		       { name: "bool_field", bool: true },
		       { name: "bools_field", bools: [true, false] },
		       { name: "string_field", string: "foo" },
		       { name: "strings_field", strings: ["hello", "world"] },
		       { name: "byte_string_field", byte_string: "foo" },
		       { name: "byte_strings_field", byte_strings: ["foo", "bar"] },
		       { name: "enum_field", enum: "org.federation.CONTENT_TYPE_1" },
		       { name: "enums_field", enums: ["org.federation.CONTENT_TYPE_2", "org.federation.CONTENT_TYPE_3"] },
		       { name: "env_field", env: "foo" },
		       { name: "envs_field", envs: ["foo", "bar"] },
		       { name: "message_field", message: { name: "org.federation.Content", fields: [{ field: "bool_field", bool: true }, { field: "bools_field", bools: [true, false] }, { field: "by_field", by: "$.id" }, { field: "byte_string_field", byte_string: "foo" }, { field: "byte_strings_field", byte_strings: ["foo", "bar"] }, { field: "double_field", double: 1.23 }, { field: "doubles_field", doubles: [4.56, 7.89] }, { field: "enum_field", enum: "org.federation.CONTENT_TYPE_1" }, { field: "enums_field", enums: ["org.federation.CONTENT_TYPE_2", "org.federation.CONTENT_TYPE_3"] }, { field: "env_field", env: "foo" }, { field: "envs_field", envs: ["foo", "bar"] }, { field: "fixed32_field", fixed32: 10 }, { field: "fixed32s_field", fixed32s: [11, 12] }, { field: "fixed64_field", fixed64: 13 }, { field: "fixed64s_field", fixed64s: [14, 15] }, { field: "float_field", float: 4.56 }, { field: "floats_field", floats: [7.89, 1.23] }, { field: "int32_field", int32: -1 }, { field: "int32s_field", int32s: [-2, -3] }, { field: "int64_field", int64: -4 }, { field: "int64s_field", int64s: [-5, -6] }, { field: "messages_field", messages: [{ name: "org.federation.Content", fields: [] }, { name: "org.federation.Content", fields: [] }] }, { field: "sfixed32_field", sfixed32: -14 }, { field: "sfixed32s_field", sfixed32s: [-15, -16] }, { field: "sfixed64_field", sfixed64: -17 }, { field: "sfixed64s_field", sfixed64s: [-18, -19] }, { field: "sint32_field", sint32: -7 }, { field: "sint32s_field", sint32s: [-8, -9] }, { field: "sint64_field", sint64: -10 }, { field: "sint64s_field", sint64s: [-11, -12] }, { field: "string_field", string: "foo" }, { field: "strings_field", strings: ["hello", "world"] }, { field: "uint32_field", uint32: 1 }, { field: "uint32s_field", uint32s: [2, 3] }, { field: "uint64_field", uint64: 4 }, { field: "uint64s_field", uint64s: [5, 6] }] } },
		       { name: "messages_field", messages: [{ name: "org.federation.Content", fields: [] }, { name: "org.federation.Content", fields: [] }] }
		     ]
		   }
		*/
		resContentIface, err, _ := sg.Do("content2_org.federation.Content", func() (interface{}, error) {
			valueMu.RLock()
			args := &Org_Federation_ContentArgument{
				Client:           s.client,
				ByField:          req.Id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   // { name: "by_field", by: "$.id" }
				DoubleField:      1.23,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // { name: "double_field", double: 1.23 }
				DoublesField:     []float64{4.56, 7.89},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // { name: "doubles_field", doubles: [4.56, 7.89] }
				FloatField:       4.56,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // { name: "float_field", float: 4.56 }
				FloatsField:      []float32{7.89, 1.23},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // { name: "floats_field", floats: [7.89, 1.23] }
				Int32Field:       -1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { name: "int32_field", int32: -1 }
				Int32SField:      []int32{-2, -3},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { name: "int32s_field", int32s: [-2, -3] }
				Int64Field:       -4,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { name: "int64_field", int64: -4 }
				Int64SField:      []int64{-5, -6},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { name: "int64s_field", int64s: [-5, -6] }
				Uint32Field:      1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { name: "uint32_field", uint32: 1 }
				Uint32SField:     []uint32{2, 3},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           // { name: "uint32s_field", uint32s: [2, 3] }
				Uint64Field:      4,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { name: "uint64_field", uint64: 4 }
				Uint64SField:     []uint64{5, 6},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           // { name: "uint64s_field", uint64s: [5, 6] }
				Sint32Field:      -7,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { name: "sint32_field", sint32: -7 }
				Sint32SField:     []int32{-8, -9},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { name: "sint32s_field", sint32s: [-8, -9] }
				Sint64Field:      -10,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { name: "sint64_field", sint64: -10 }
				Sint64SField:     []int64{-11, -12},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { name: "sint64s_field", sint64s: [-11, -12] }
				Fixed32Field:     10,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { name: "fixed32_field", fixed32: 10 }
				Fixed32SField:    []uint32{11, 12},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { name: "fixed32s_field", fixed32s: [11, 12] }
				Fixed64Field:     13,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { name: "fixed64_field", fixed64: 13 }
				Fixed64SField:    []uint64{14, 15},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { name: "fixed64s_field", fixed64s: [14, 15] }
				Sfixed32Field:    -14,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { name: "sfixed32_field", sfixed32: -14 }
				Sfixed32SField:   []int32{-15, -16},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { name: "sfixed32s_field", sfixed32s: [-15, -16] }
				Sfixed64Field:    -17,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { name: "sfixed64_field", sfixed64: -17 }
				Sfixed64SField:   []int64{-18, -19},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { name: "sfixed64s_field", sfixed64s: [-18, -19] }
				BoolField:        true,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // { name: "bool_field", bool: true }
				BoolsField:       []bool{true, false},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { name: "bools_field", bools: [true, false] }
				StringField:      "foo",                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // { name: "string_field", string: "foo" }
				StringsField:     []string{"hello", "world"},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               // { name: "strings_field", strings: ["hello", "world"] }
				ByteStringField:  []byte{102, 111, 111},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // { name: "byte_string_field", byte_string: "foo" }
				ByteStringsField: [][]byte{[]byte{102, 111, 111}, []byte{98, 97, 114}},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // { name: "byte_strings_field", byte_strings: ["foo", "bar"] }
				EnumField:        ContentType_CONTENT_TYPE_1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               // { name: "enum_field", enum: "org.federation.CONTENT_TYPE_1" }
				EnumsField:       []ContentType{ContentType_CONTENT_TYPE_2, ContentType_CONTENT_TYPE_3},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    // { name: "enums_field", enums: ["org.federation.CONTENT_TYPE_2", "org.federation.CONTENT_TYPE_3"] }
				EnvField:         os.Getenv("foo"),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { name: "env_field", env: "foo" }
				EnvsField:        []string{os.Getenv("foo"), os.Getenv("bar")},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             // { name: "envs_field", envs: ["foo", "bar"] }
				MessageField:     &Content{ByField: req.Id, DoubleField: 1.23, DoublesField: []float64{4.56, 7.89}, FloatField: 4.56, FloatsField: []float32{7.89, 1.23}, Int32Field: -1, Int32SField: []int32{-2, -3}, Int64Field: -4, Int64SField: []int64{-5, -6}, Uint32Field: 1, Uint32SField: []uint32{2, 3}, Uint64Field: 4, Uint64SField: []uint64{5, 6}, Sint32Field: -7, Sint32SField: []int32{-8, -9}, Sint64Field: -10, Sint64SField: []int64{-11, -12}, Fixed32Field: 10, Fixed32SField: []uint32{11, 12}, Fixed64Field: 13, Fixed64SField: []uint64{14, 15}, Sfixed32Field: -14, Sfixed32SField: []int32{-15, -16}, Sfixed64Field: -17, Sfixed64SField: []int64{-18, -19}, BoolField: true, BoolsField: []bool{true, false}, StringField: "foo", StringsField: []string{"hello", "world"}, ByteStringField: []byte{102, 111, 111}, ByteStringsField: [][]byte{[]byte{102, 111, 111}, []byte{98, 97, 114}}, EnumField: ContentType_CONTENT_TYPE_1, EnumsField: []ContentType{ContentType_CONTENT_TYPE_2, ContentType_CONTENT_TYPE_3}, EnvField: os.Getenv("foo"), EnvsField: []string{os.Getenv("foo"), os.Getenv("bar")}, MessagesField: []*Content{&Content{}, &Content{}}}, // { name: "message_field", message: { name: "org.federation.Content", fields: [{ field: "bool_field", bool: true }, { field: "bools_field", bools: [true, false] }, { field: "by_field", by: "$.id" }, { field: "byte_string_field", byte_string: "foo" }, { field: "byte_strings_field", byte_strings: ["foo", "bar"] }, { field: "double_field", double: 1.23 }, { field: "doubles_field", doubles: [4.56, 7.89] }, { field: "enum_field", enum: "org.federation.CONTENT_TYPE_1" }, { field: "enums_field", enums: ["org.federation.CONTENT_TYPE_2", "org.federation.CONTENT_TYPE_3"] }, { field: "env_field", env: "foo" }, { field: "envs_field", envs: ["foo", "bar"] }, { field: "fixed32_field", fixed32: 10 }, { field: "fixed32s_field", fixed32s: [11, 12] }, { field: "fixed64_field", fixed64: 13 }, { field: "fixed64s_field", fixed64s: [14, 15] }, { field: "float_field", float: 4.56 }, { field: "floats_field", floats: [7.89, 1.23] }, { field: "int32_field", int32: -1 }, { field: "int32s_field", int32s: [-2, -3] }, { field: "int64_field", int64: -4 }, { field: "int64s_field", int64s: [-5, -6] }, { field: "messages_field", messages: [{ name: "org.federation.Content", fields: [] }, { name: "org.federation.Content", fields: [] }] }, { field: "sfixed32_field", sfixed32: -14 }, { field: "sfixed32s_field", sfixed32s: [-15, -16] }, { field: "sfixed64_field", sfixed64: -17 }, { field: "sfixed64s_field", sfixed64s: [-18, -19] }, { field: "sint32_field", sint32: -7 }, { field: "sint32s_field", sint32s: [-8, -9] }, { field: "sint64_field", sint64: -10 }, { field: "sint64s_field", sint64s: [-11, -12] }, { field: "string_field", string: "foo" }, { field: "strings_field", strings: ["hello", "world"] }, { field: "uint32_field", uint32: 1 }, { field: "uint32s_field", uint32s: [2, 3] }, { field: "uint64_field", uint64: 4 }, { field: "uint64s_field", uint64s: [5, 6] }] } }
				MessagesField:    []*Content{&Content{}, &Content{}},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { name: "messages_field", messages: [{ name: "org.federation.Content", fields: [] }, { name: "org.federation.Content", fields: [] }] }
			}
			valueMu.RUnlock()
			return s.resolve_Org_Federation_Content(ctx, args)
		})
		if err != nil {
			return nil, err
		}
		resContent := resContentIface.(*Content)
		valueMu.Lock()
		valueContent2 = resContent // { name: "content2", message: "Content" ... }
		valueMu.Unlock()
		return nil, nil
	})

	s.goWithRecover(eg, func() (interface{}, error) {

		// This section's codes are generated by the following proto definition.
		/*
		   resolver: {
		     method: "content.ContentService/GetContent"
		     request: [
		       { field: "by_field", by: "$.id" },
		       { field: "double_field", double: 1.23 },
		       { field: "doubles_field", doubles: [4.56, 7.89] },
		       { field: "float_field", float: 4.56 },
		       { field: "floats_field", floats: [7.89, 1.23] },
		       { field: "int32_field", int32: -1 },
		       { field: "int32s_field", int32s: [-2, -3] },
		       { field: "int64_field", int64: -4 },
		       { field: "int64s_field", int64s: [-5, -6] },
		       { field: "uint32_field", uint32: 1 },
		       { field: "uint32s_field", uint32s: [2, 3] },
		       { field: "uint64_field", uint64: 4 },
		       { field: "uint64s_field", uint64s: [5, 6] },
		       { field: "sint32_field", sint32: -7 },
		       { field: "sint32s_field", sint32s: [-8, -9] },
		       { field: "sint64_field", sint64: -10 },
		       { field: "sint64s_field", sint64s: [-11, -12] },
		       { field: "fixed32_field", fixed32: 10 },
		       { field: "fixed32s_field", fixed32s: [11, 12] },
		       { field: "fixed64_field", fixed64: 13 },
		       { field: "fixed64s_field", fixed64s: [14, 15] },
		       { field: "sfixed32_field", sfixed32: -14 },
		       { field: "sfixed32s_field", sfixed32s: [-15, -16] },
		       { field: "sfixed64_field", sfixed64: -17 },
		       { field: "sfixed64s_field", sfixed64s: [-18, -19] },
		       { field: "bool_field", bool: true },
		       { field: "bools_field", bools: [true, false] },
		       { field: "string_field", string: "foo" },
		       { field: "strings_field", strings: ["hello", "world"] },
		       { field: "byte_string_field", byte_string: "foo" },
		       { field: "byte_strings_field", byte_strings: ["foo", "bar"] },
		       { field: "enum_field", enum: "content.CONTENT_TYPE_1" },
		       { field: "enums_field", enums: ["content.CONTENT_TYPE_2", "content.CONTENT_TYPE_3"] },
		       { field: "env_field", env: "foo" },
		       { field: "envs_field", envs: ["foo", "bar"] },
		       { field: "message_field", message: { name: "content.Content", fields: [{ field: "bool_field", bool: true }, { field: "bools_field", bools: [true, false] }, { field: "by_field", by: "$.id" }, { field: "byte_string_field", byte_string: "foo" }, { field: "byte_strings_field", byte_strings: ["foo", "bar"] }, { field: "double_field", double: 1.23 }, { field: "doubles_field", doubles: [4.56, 7.89] }, { field: "enum_field", enum: "content.CONTENT_TYPE_1" }, { field: "enums_field", enums: ["content.CONTENT_TYPE_2", "content.CONTENT_TYPE_3"] }, { field: "env_field", env: "foo" }, { field: "envs_field", envs: ["foo", "bar"] }, { field: "fixed32_field", fixed32: 10 }, { field: "fixed32s_field", fixed32s: [11, 12] }, { field: "fixed64_field", fixed64: 13 }, { field: "fixed64s_field", fixed64s: [14, 15] }, { field: "float_field", float: 4.56 }, { field: "floats_field", floats: [7.89, 1.23] }, { field: "int32_field", int32: -1 }, { field: "int32s_field", int32s: [-2, -3] }, { field: "int64_field", int64: -4 }, { field: "int64s_field", int64s: [-5, -6] }, { field: "message_field", message: { name: "content.Content", fields: [] } }, { field: "messages_field", messages: [{ name: "content.Content", fields: [] }, { name: "content.Content", fields: [] }] }, { field: "sfixed32_field", sfixed32: -14 }, { field: "sfixed32s_field", sfixed32s: [-15, -16] }, { field: "sfixed64_field", sfixed64: -17 }, { field: "sfixed64s_field", sfixed64s: [-18, -19] }, { field: "sint32_field", sint32: -7 }, { field: "sint32s_field", sint32s: [-8, -9] }, { field: "sint64_field", sint64: -10 }, { field: "sint64s_field", sint64s: [-11, -12] }, { field: "string_field", string: "foo" }, { field: "strings_field", strings: ["hello", "world"] }, { field: "uint32_field", uint32: 1 }, { field: "uint32s_field", uint32s: [2, 3] }, { field: "uint64_field", uint64: 4 }, { field: "uint64s_field", uint64s: [5, 6] }] } },
		       { field: "messages_field", messages: [{ name: "content.Content", fields: [] }, { name: "content.Content", fields: [] }] }
		     ]
		     response { name: "content", field: "content" }
		   }
		*/
		resGetContentResponseIface, err, _ := sg.Do("content.ContentService/GetContent", func() (interface{}, error) {
			valueMu.RLock()
			args := &content.GetContentRequest{
				ByField:          req.Id,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     // { field: "by_field", by: "$.id" }
				DoubleField:      1.23,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { field: "double_field", double: 1.23 }
				DoublesField:     []float64{4.56, 7.89},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { field: "doubles_field", doubles: [4.56, 7.89] }
				FloatField:       4.56,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { field: "float_field", float: 4.56 }
				FloatsField:      []float32{7.89, 1.23},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { field: "floats_field", floats: [7.89, 1.23] }
				Int32Field:       -1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { field: "int32_field", int32: -1 }
				Int32SField:      []int32{-2, -3},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            // { field: "int32s_field", int32s: [-2, -3] }
				Int64Field:       -4,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { field: "int64_field", int64: -4 }
				Int64SField:      []int64{-5, -6},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            // { field: "int64s_field", int64s: [-5, -6] }
				Uint32Field:      1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { field: "uint32_field", uint32: 1 }
				Uint32SField:     []uint32{2, 3},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             // { field: "uint32s_field", uint32s: [2, 3] }
				Uint64Field:      4,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { field: "uint64_field", uint64: 4 }
				Uint64SField:     []uint64{5, 6},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             // { field: "uint64s_field", uint64s: [5, 6] }
				Sint32Field:      -7,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { field: "sint32_field", sint32: -7 }
				Sint32SField:     []int32{-8, -9},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            // { field: "sint32s_field", sint32s: [-8, -9] }
				Sint64Field:      -10,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { field: "sint64_field", sint64: -10 }
				Sint64SField:     []int64{-11, -12},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { field: "sint64s_field", sint64s: [-11, -12] }
				Fixed32Field:     10,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { field: "fixed32_field", fixed32: 10 }
				Fixed32SField:    []uint32{11, 12},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           // { field: "fixed32s_field", fixed32s: [11, 12] }
				Fixed64Field:     13,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { field: "fixed64_field", fixed64: 13 }
				Fixed64SField:    []uint64{14, 15},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           // { field: "fixed64s_field", fixed64s: [14, 15] }
				Sfixed32Field:    -14,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { field: "sfixed32_field", sfixed32: -14 }
				Sfixed32SField:   []int32{-15, -16},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { field: "sfixed32s_field", sfixed32s: [-15, -16] }
				Sfixed64Field:    -17,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { field: "sfixed64_field", sfixed64: -17 }
				Sfixed64SField:   []int64{-18, -19},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // { field: "sfixed64s_field", sfixed64s: [-18, -19] }
				BoolField:        true,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { field: "bool_field", bool: true }
				BoolsField:       []bool{true, false},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // { field: "bools_field", bools: [true, false] }
				StringField:      "foo",                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { field: "string_field", string: "foo" }
				StringsField:     []string{"hello", "world"},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 // { field: "strings_field", strings: ["hello", "world"] }
				ByteStringField:  []byte{102, 111, 111},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      // { field: "byte_string_field", byte_string: "foo" }
				ByteStringsField: [][]byte{[]byte{102, 111, 111}, []byte{98, 97, 114}},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       // { field: "byte_strings_field", byte_strings: ["foo", "bar"] }
				EnumField:        content.ContentType_CONTENT_TYPE_1,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         // { field: "enum_field", enum: "content.CONTENT_TYPE_1" }
				EnumsField:       []content.ContentType{content.ContentType_CONTENT_TYPE_2, content.ContentType_CONTENT_TYPE_3},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              // { field: "enums_field", enums: ["content.CONTENT_TYPE_2", "content.CONTENT_TYPE_3"] }
				EnvField:         os.Getenv("foo"),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           // { field: "env_field", env: "foo" }
				EnvsField:        []string{os.Getenv("foo"), os.Getenv("bar")},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               // { field: "envs_field", envs: ["foo", "bar"] }
				MessageField:     &content.Content{ByField: req.Id, DoubleField: 1.23, DoublesField: []float64{4.56, 7.89}, FloatField: 4.56, FloatsField: []float32{7.89, 1.23}, Int32Field: -1, Int32SField: []int32{-2, -3}, Int64Field: -4, Int64SField: []int64{-5, -6}, Uint32Field: 1, Uint32SField: []uint32{2, 3}, Uint64Field: 4, Uint64SField: []uint64{5, 6}, Sint32Field: -7, Sint32SField: []int32{-8, -9}, Sint64Field: -10, Sint64SField: []int64{-11, -12}, Fixed32Field: 10, Fixed32SField: []uint32{11, 12}, Fixed64Field: 13, Fixed64SField: []uint64{14, 15}, Sfixed32Field: -14, Sfixed32SField: []int32{-15, -16}, Sfixed64Field: -17, Sfixed64SField: []int64{-18, -19}, BoolField: true, BoolsField: []bool{true, false}, StringField: "foo", StringsField: []string{"hello", "world"}, ByteStringField: []byte{102, 111, 111}, ByteStringsField: [][]byte{[]byte{102, 111, 111}, []byte{98, 97, 114}}, EnumField: content.ContentType_CONTENT_TYPE_1, EnumsField: []content.ContentType{content.ContentType_CONTENT_TYPE_2, content.ContentType_CONTENT_TYPE_3}, EnvField: os.Getenv("foo"), EnvsField: []string{os.Getenv("foo"), os.Getenv("bar")}, MessageField: &content.Content{}, MessagesField: []*content.Content{&content.Content{}, &content.Content{}}}, // { field: "message_field", message: { name: "content.Content", fields: [{ field: "bool_field", bool: true }, { field: "bools_field", bools: [true, false] }, { field: "by_field", by: "$.id" }, { field: "byte_string_field", byte_string: "foo" }, { field: "byte_strings_field", byte_strings: ["foo", "bar"] }, { field: "double_field", double: 1.23 }, { field: "doubles_field", doubles: [4.56, 7.89] }, { field: "enum_field", enum: "content.CONTENT_TYPE_1" }, { field: "enums_field", enums: ["content.CONTENT_TYPE_2", "content.CONTENT_TYPE_3"] }, { field: "env_field", env: "foo" }, { field: "envs_field", envs: ["foo", "bar"] }, { field: "fixed32_field", fixed32: 10 }, { field: "fixed32s_field", fixed32s: [11, 12] }, { field: "fixed64_field", fixed64: 13 }, { field: "fixed64s_field", fixed64s: [14, 15] }, { field: "float_field", float: 4.56 }, { field: "floats_field", floats: [7.89, 1.23] }, { field: "int32_field", int32: -1 }, { field: "int32s_field", int32s: [-2, -3] }, { field: "int64_field", int64: -4 }, { field: "int64s_field", int64s: [-5, -6] }, { field: "message_field", message: { name: "content.Content", fields: [] } }, { field: "messages_field", messages: [{ name: "content.Content", fields: [] }, { name: "content.Content", fields: [] }] }, { field: "sfixed32_field", sfixed32: -14 }, { field: "sfixed32s_field", sfixed32s: [-15, -16] }, { field: "sfixed64_field", sfixed64: -17 }, { field: "sfixed64s_field", sfixed64s: [-18, -19] }, { field: "sint32_field", sint32: -7 }, { field: "sint32s_field", sint32s: [-8, -9] }, { field: "sint64_field", sint64: -10 }, { field: "sint64s_field", sint64s: [-11, -12] }, { field: "string_field", string: "foo" }, { field: "strings_field", strings: ["hello", "world"] }, { field: "uint32_field", uint32: 1 }, { field: "uint32s_field", uint32s: [2, 3] }, { field: "uint64_field", uint64: 4 }, { field: "uint64s_field", uint64s: [5, 6] }] } }
				MessagesField:    []*content.Content{&content.Content{}, &content.Content{}},                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 // { field: "messages_field", messages: [{ name: "content.Content", fields: [] }, { name: "content.Content", fields: [] }] }
			}
			valueMu.RUnlock()
			return s.client.Content_ContentServiceClient.GetContent(ctx, args)
		})
		if err != nil {
			if err := s.errorHandler(ctx, FederationService_DependentMethod_Content_ContentService_GetContent, err); err != nil {
				return nil, err
			}
		}
		resGetContentResponse := resGetContentResponseIface.(*content.GetContentResponse)
		valueMu.Lock()
		valueContent = resGetContentResponse.GetContent() // { name: "content", field: "content" }
		valueMu.Unlock()
		return nil, nil
	})

	if err := eg.Wait(); err != nil {
		return nil, err
	}

	// assign named parameters to message arguments to pass to the custom resolver.
	req.Content = valueContent
	req.Content2 = valueContent2

	// create a message value to be returned.
	ret := &GetResponse{}

	// field binding section.
	ret.Content = s.cast_Content_Content__to__Org_Federation_Content(valueContent) // (grpc.federation.field).by = "content"
	ret.Content2 = valueContent2                                                   // (grpc.federation.field).by = "content2"

	s.logger.DebugContext(ctx, "resolved org.federation.GetResponse", slog.Any("org.federation.GetResponse", s.logvalue_Org_Federation_GetResponse(ret)))
	return ret, nil
}

// cast_Content_ContentType__to__Org_Federation_ContentType cast from "content.ContentType" to "org.federation.ContentType".
func (s *FederationService) cast_Content_ContentType__to__Org_Federation_ContentType(from content.ContentType) ContentType {
	switch from {
	case content.ContentType_CONTENT_TYPE_1:
		return ContentType_CONTENT_TYPE_1
	case content.ContentType_CONTENT_TYPE_2:
		return ContentType_CONTENT_TYPE_2
	case content.ContentType_CONTENT_TYPE_3:
		return ContentType_CONTENT_TYPE_3
	default:
		return 0
	}
}

// cast_Content_Content__to__Org_Federation_Content cast from "content.Content" to "org.federation.Content".
func (s *FederationService) cast_Content_Content__to__Org_Federation_Content(from *content.Content) *Content {
	if from == nil {
		return nil
	}

	return &Content{
		ByField:          from.GetByField(),
		DoubleField:      from.GetDoubleField(),
		DoublesField:     from.GetDoublesField(),
		FloatField:       from.GetFloatField(),
		FloatsField:      from.GetFloatsField(),
		Int32Field:       from.GetInt32Field(),
		Int32SField:      from.GetInt32SField(),
		Int64Field:       from.GetInt64Field(),
		Int64SField:      from.GetInt64SField(),
		Uint32Field:      from.GetUint32Field(),
		Uint32SField:     from.GetUint32SField(),
		Uint64Field:      from.GetUint64Field(),
		Uint64SField:     from.GetUint64SField(),
		Sint32Field:      from.GetSint32Field(),
		Sint32SField:     from.GetSint32SField(),
		Sint64Field:      from.GetSint64Field(),
		Sint64SField:     from.GetSint64SField(),
		Fixed32Field:     from.GetFixed32Field(),
		Fixed32SField:    from.GetFixed32SField(),
		Fixed64Field:     from.GetFixed64Field(),
		Fixed64SField:    from.GetFixed64SField(),
		Sfixed32Field:    from.GetSfixed32Field(),
		Sfixed32SField:   from.GetSfixed32SField(),
		Sfixed64Field:    from.GetSfixed64Field(),
		Sfixed64SField:   from.GetSfixed64SField(),
		BoolField:        from.GetBoolField(),
		BoolsField:       from.GetBoolsField(),
		StringField:      from.GetStringField(),
		StringsField:     from.GetStringsField(),
		ByteStringField:  from.GetByteStringField(),
		ByteStringsField: from.GetByteStringsField(),
		EnumField:        s.cast_Content_ContentType__to__Org_Federation_ContentType(from.GetEnumField()),
		EnumsField:       s.cast_repeated_Content_ContentType__to__repeated_Org_Federation_ContentType(from.GetEnumsField()),
		EnvField:         from.GetEnvField(),
		EnvsField:        from.GetEnvsField(),
		MessageField:     s.cast_Content_Content__to__Org_Federation_Content(from.GetMessageField()),
		MessagesField:    s.cast_repeated_Content_Content__to__repeated_Org_Federation_Content(from.GetMessagesField()),
	}
}

// cast_repeated_Content_ContentType__to__repeated_Org_Federation_ContentType cast from "repeated content.ContentType" to "repeated org.federation.ContentType".
func (s *FederationService) cast_repeated_Content_ContentType__to__repeated_Org_Federation_ContentType(from []content.ContentType) []ContentType {
	ret := make([]ContentType, 0, len(from))
	for _, v := range from {
		ret = append(ret, s.cast_Content_ContentType__to__Org_Federation_ContentType(v))
	}
	return ret
}

// cast_repeated_Content_Content__to__repeated_Org_Federation_Content cast from "repeated content.Content" to "repeated org.federation.Content".
func (s *FederationService) cast_repeated_Content_Content__to__repeated_Org_Federation_Content(from []*content.Content) []*Content {
	ret := make([]*Content, 0, len(from))
	for _, v := range from {
		ret = append(ret, s.cast_Content_Content__to__Org_Federation_Content(v))
	}
	return ret
}

func (s *FederationService) logvalue_Org_Federation_Content(v *Content) slog.Value {
	if v == nil {
		return slog.GroupValue()
	}
	return slog.GroupValue(
		slog.String("by_field", v.GetByField()),
		slog.Float64("double_field", v.GetDoubleField()),
		slog.Any("doubles_field", v.GetDoublesField()),
		slog.Float64("float_field", float64(v.GetFloatField())),
		slog.Any("floats_field", v.GetFloatsField()),
		slog.Int64("int32_field", int64(v.GetInt32Field())),
		slog.Any("int32s_field", v.GetInt32SField()),
		slog.Int64("int64_field", v.GetInt64Field()),
		slog.Any("int64s_field", v.GetInt64SField()),
		slog.Uint64("uint32_field", uint64(v.GetUint32Field())),
		slog.Any("uint32s_field", v.GetUint32SField()),
		slog.Uint64("uint64_field", v.GetUint64Field()),
		slog.Any("uint64s_field", v.GetUint64SField()),
		slog.Int64("sint32_field", int64(v.GetSint32Field())),
		slog.Any("sint32s_field", v.GetSint32SField()),
		slog.Int64("sint64_field", v.GetSint64Field()),
		slog.Any("sint64s_field", v.GetSint64SField()),
		slog.Uint64("fixed32_field", uint64(v.GetFixed32Field())),
		slog.Any("fixed32s_field", v.GetFixed32SField()),
		slog.Uint64("fixed64_field", v.GetFixed64Field()),
		slog.Any("fixed64s_field", v.GetFixed64SField()),
		slog.Int64("sfixed32_field", int64(v.GetSfixed32Field())),
		slog.Any("sfixed32s_field", v.GetSfixed32SField()),
		slog.Int64("sfixed64_field", v.GetSfixed64Field()),
		slog.Any("sfixed64s_field", v.GetSfixed64SField()),
		slog.Bool("bool_field", v.GetBoolField()),
		slog.Any("bools_field", v.GetBoolsField()),
		slog.String("string_field", v.GetStringField()),
		slog.Any("strings_field", v.GetStringsField()),
		slog.String("byte_string_field", string(v.GetByteStringField())),
		slog.Any("byte_strings_field", v.GetByteStringsField()),
		slog.String("enum_field", s.logvalue_Org_Federation_ContentType(v.GetEnumField()).String()),
		slog.Any("enums_field", s.logvalue_repeated_Org_Federation_ContentType(v.GetEnumsField())),
		slog.String("env_field", v.GetEnvField()),
		slog.Any("envs_field", v.GetEnvsField()),
		slog.Any("message_field", s.logvalue_Org_Federation_Content(v.GetMessageField())),
		slog.Any("messages_field", s.logvalue_repeated_Org_Federation_Content(v.GetMessagesField())),
	)
}

func (s *FederationService) logvalue_Org_Federation_ContentArgument(v *Org_Federation_ContentArgument) slog.Value {
	if v == nil {
		return slog.GroupValue()
	}
	return slog.GroupValue(
		slog.String("by_field", v.ByField),
		slog.Float64("double_field", v.DoubleField),
		slog.Any("doubles_field", v.DoublesField),
		slog.Float64("float_field", float64(v.FloatField)),
		slog.Any("floats_field", v.FloatsField),
		slog.Int64("int32_field", int64(v.Int32Field)),
		slog.Any("int32s_field", v.Int32SField),
		slog.Int64("int64_field", v.Int64Field),
		slog.Any("int64s_field", v.Int64SField),
		slog.Uint64("uint32_field", uint64(v.Uint32Field)),
		slog.Any("uint32s_field", v.Uint32SField),
		slog.Uint64("uint64_field", v.Uint64Field),
		slog.Any("uint64s_field", v.Uint64SField),
		slog.Int64("sint32_field", int64(v.Sint32Field)),
		slog.Any("sint32s_field", v.Sint32SField),
		slog.Int64("sint64_field", v.Sint64Field),
		slog.Any("sint64s_field", v.Sint64SField),
		slog.Uint64("fixed32_field", uint64(v.Fixed32Field)),
		slog.Any("fixed32s_field", v.Fixed32SField),
		slog.Uint64("fixed64_field", v.Fixed64Field),
		slog.Any("fixed64s_field", v.Fixed64SField),
		slog.Int64("sfixed32_field", int64(v.Sfixed32Field)),
		slog.Any("sfixed32s_field", v.Sfixed32SField),
		slog.Int64("sfixed64_field", v.Sfixed64Field),
		slog.Any("sfixed64s_field", v.Sfixed64SField),
		slog.Bool("bool_field", v.BoolField),
		slog.Any("bools_field", v.BoolsField),
		slog.String("string_field", v.StringField),
		slog.Any("strings_field", v.StringsField),
		slog.String("byte_string_field", string(v.ByteStringField)),
		slog.Any("byte_strings_field", v.ByteStringsField),
		slog.String("enum_field", s.logvalue_Org_Federation_ContentType(v.EnumField).String()),
		slog.Any("enums_field", s.logvalue_repeated_Org_Federation_ContentType(v.EnumsField)),
		slog.String("env_field", v.EnvField),
		slog.Any("envs_field", v.EnvsField),
		slog.Any("message_field", s.logvalue_Org_Federation_Content(v.MessageField)),
		slog.Any("messages_field", s.logvalue_repeated_Org_Federation_Content(v.MessagesField)),
	)
}

func (s *FederationService) logvalue_Org_Federation_ContentType(v ContentType) slog.Value {
	switch v {
	case ContentType_CONTENT_TYPE_1:
		return slog.StringValue("CONTENT_TYPE_1")
	case ContentType_CONTENT_TYPE_2:
		return slog.StringValue("CONTENT_TYPE_2")
	case ContentType_CONTENT_TYPE_3:
		return slog.StringValue("CONTENT_TYPE_3")
	}
	return slog.StringValue("")
}

func (s *FederationService) logvalue_Org_Federation_GetResponse(v *GetResponse) slog.Value {
	if v == nil {
		return slog.GroupValue()
	}
	return slog.GroupValue(
		slog.Any("content", s.logvalue_Org_Federation_Content(v.GetContent())),
		slog.Any("content2", s.logvalue_Org_Federation_Content(v.GetContent2())),
	)
}

func (s *FederationService) logvalue_Org_Federation_GetResponseArgument(v *Org_Federation_GetResponseArgument) slog.Value {
	if v == nil {
		return slog.GroupValue()
	}
	return slog.GroupValue(
		slog.String("id", v.Id),
	)
}

func (s *FederationService) logvalue_repeated_Org_Federation_Content(v []*Content) slog.Value {
	attrs := make([]slog.Attr, 0, len(v))
	for idx, vv := range v {
		attrs = append(attrs, slog.Attr{
			Key:   fmt.Sprint(idx),
			Value: s.logvalue_Org_Federation_Content(vv),
		})
	}
	return slog.GroupValue(attrs...)
}

func (s *FederationService) logvalue_repeated_Org_Federation_ContentType(v []ContentType) slog.Value {
	attrs := make([]slog.Attr, 0, len(v))
	for idx, vv := range v {
		attrs = append(attrs, slog.Attr{
			Key:   fmt.Sprint(idx),
			Value: s.logvalue_Org_Federation_ContentType(vv),
		})
	}
	return slog.GroupValue(attrs...)
}
